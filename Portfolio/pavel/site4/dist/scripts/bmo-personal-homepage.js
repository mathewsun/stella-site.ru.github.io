var penguin=webpackJsonppenguin([3],{14:function(e,a,n){"use strict";var r=n(0)("mortgage-spiff"),t=n(7),i=void 0!==window.MORTGAGE;a.loadSpiff=function(){return jQuery.getScript("https://www.bmo.com/bmocda/templates/json_mortgage_include.jsp")},a.grabSpiffElements=function(){return Array.prototype.slice.call(document.querySelectorAll("[data-spiff-mortgages]"))},a.updateDOM=function(){var e=document.documentElement.lang||"en",n=window.MORTGAGE||{},r=n.fixed||{},i=n["fixed low rate"]||{},o=n.variable||{};window.dt_mortgage;a.grabSpiffElements().forEach(function(a){var n=a.getAttribute("data-spiff-mortgages"),c="";n&&("two-year-closed"===n?(c=r["2 year (closed)"].value,c=t(c,{language:e,decimals:2})):"three-year-closed"===n?(c=r["3 year (closed)"].value,c=t(c,{language:e,decimals:2})):"five-year-closed-fixed"===n?(c=r["5 year (closed)"].value,c=t(c,{language:e,decimals:2})):"three-year-open-variable"===n?(c=o["3 year (open)"].value,c=t(c,{language:e,decimals:2})):"five-year-closed-variable"===n?(c=o["5 year (closed)"].value,c=t(c,{language:e,decimals:2})):"five-year-smart-fixed"===n?(c=i["5 year low rate (closed)"].value,c=t(c,{language:e,decimals:2})):"ten-year-closed"===n?(c=i["10 year low rate (closed)"].value,c=t(c,{language:e,decimals:2})):"five-year-eco-smart"===n&&(c=i["5 year (BMO Eco Smart Mortgage (TM) closed)"].value,c=t(c,{language:e,decimals:2})),c="<span class='spifValue'>"+n+"</span>"+c,a.innerHTML="<span class='spif'>"+c+"</span>")})},a.failed=function(){r.error("Could not grab the spiff data")},a.flagLoadedSuccessfull=function(){i=!0},a.flagLoadedUnSuccessfully=function(){i=!1},a.initialize=function(){0!==a.grabSpiffElements().length&&(i?a.updateDOM():a.loadSpiff().done(a.flagLoadedSuccessfull).done(a.updateDOM).fail(a.flagLoadedUnSuccessfully).fail(a.failed))}},168:function(e,a,n){"use strict";n(21),n(22),n(24),n(39),n(26),n(27),n(28),n(44).initialize(),n(8),n(23).initialize(),n(56),n(169),n(69),n(170),n(14).initialize(),n(30).initialize();var r=n(45);this.Debug=n(0),$(document).foundation(),r.getItem("dar")&&document.getElementById("signinContainer").classList.add("show");var t=n(11);window.addEventListener("load",function e(){window.removeEventListener("load",e),t.initialize()}),n(13)},169:function(e,a,n){"use strict";n(0)("icon-navigation"),n(2);var r=n(6)();window.addEventListener("load",function e(){window.removeEventListener("load",e),u()}),r.subscribe(m);var t=100;window.rowsPerScreen=3;var i=$("#data-icon-navigation-nextmobile"),o=$("#data-icon-navigation-prevmobile"),c=$("[data-icon-navigation]"),d=$("#icon-nav-dots"),s=$("[data-icon-navigation-single]"),l=$("[data-navigation-icon-container]");function u(){window.currentIconPage=0,window.maxPages=0,s.each(function(){$(this).css("margin-left","0").css("margin-top","0")}),window.navRowHeight=0,s.each(function(){$(this).height()>window.navRowHeight&&(window.navRowHeight=$(this).height())}),s.each(function(){$(this).height(window.navRowHeight)}),"small"===Foundation.MediaQuery.current?(d.hide(),c.removeClass("slick-dotted"),window.navRows=Math.ceil(s.length/2),window.maxNavRows=window.navRows-window.rowsPerScreen,Number(window.navRows)<=Number(window.rowsPerScreen)?(o.attr("aria-disabled","true").hide(),i.attr("aria-disabled","true").hide(),l.addClass("noscroll")):(o.attr("aria-disabled","true").hide(),i.attr("aria-disabled","true").show(),f()),c.height(3*window.navRowHeight)):"medium"===Foundation.MediaQuery.current?(s.length>4?(d.show(),c.addClass("slick-dotted"),$("[data-icon-navigation-next]").show(),window.maxPages=s.length-3,g(s.length-3)):(d.hide(),c.removeClass("slick-dotted")),c.height(window.navRowHeight)):"large"!==Foundation.MediaQuery.current&&"xlarge"!==Foundation.MediaQuery.current&&"xxlarge"!==Foundation.MediaQuery.current||(s.length>6?(d.show(),c.addClass("slick-dotted"),window.maxPages=s.length-5,g(s.length-5)):(d.hide(),c.removeClass("slick-dotted")),c.height(window.navRowHeight))}function g(e){var a="",n=0;for(d.innerHTML="",n=0;n<e;++n){var r="";0===n&&(r="slick-active"),a+='<li class="'+r+'" aria-hidden="false" role="presentation" aria-selected="true" aria-controls="navigation'+n+'" id="slick-slide'+n+'">',a+='<button type="button" data-role="none" role="button" data-ana="page banner - slide '+n+'" data-pagenum="'+n+'">'+n+"</button>",a+="</li>"}d.innerHTML=a,f()}function f(){"small"===Foundation.MediaQuery.current?(i.off("click"),o.off("click"),i.on("click",function(e){e.preventDefault(),window.currentIconPage=Number(window.currentIconPage+1);var a=0;s.each(function(){1,a+=.5,$(this).css("margin-top","0"),a<=window.currentIconPage&&$(this).css("margin-top","-"+t+"%")}),window.currentIconPage>=window.maxNavRows?(i.hide(),o.show()):0===window.currentIconPage&&o.hide()}),o.on("click",function(e){e.preventDefault(),window.currentIconPage=Number(window.currentIconPage-1);var a=0;s.each(function(){1,a+=.5,$(this).css("margin-top","0"),a<=window.currentIconPage&&$(this).css("margin-top","-"+t+"%")}),window.currentIconPage>=window.maxNavRows?(i.hide(),o.show()):0===window.currentIconPage&&(i.show(),o.hide())})):($("#icon-nav-dots li button").each(function(){$(this).off("click"),$(this).on("click",function(e){e.preventDefault(),$("#icon-nav-dots li").removeClass("slick-active"),$(this).parent().addClass("slick-active"),window.currentIconPage=Number($(this).attr("data-pagenum"));var a=0;$(".iconnav .icon-wrapper").each(function(){a++,$(this).css("margin-left","0"),a<=window.currentIconPage&&$(this).css("margin-left","-"+t+"%")})})}),$("[data-icon-navigation-next]").off("click"),$("[data-icon-navigation-next]").on("click",function(){window.currentIconPage=window.currentIconPage+1,$("#icon-nav-dots li").removeClass("slick-active"),$("#icon-nav-dots li").eq(currentIconPage).addClass("slick-active");var e=0;s.each(function(){e++,$(this).css("margin-left","0"),e<=window.currentIconPage&&$(this).css("margin-left","-"+t+"%")}),p()}),$("[data-icon-navigation-prev]").off("click"),$("[data-icon-navigation-prev]").on("click",function(){window.currentIconPage=window.currentIconPage-1,$("#icon-nav-dots li").removeClass("slick-active"),$("#icon-nav-dots li").eq(currentIconPage).addClass("slick-active");var e=0;s.each(function(){e++,$(this).css("margin-left","0"),e<=window.currentIconPage&&$(this).css("margin-left","-"+t+"%")}),p()}),p())}function p(){"small"===Foundation.MediaQuery.current?($("[data-icon-navigation-next]").hide(),$("[data-icon-navigation-prev]").hide()):(Foundation.MediaQuery.current,o.attr("aria-disabled","true").hide(),i.attr("aria-disabled","true").hide(),window.currentIconPage>=window.maxPages-1?$("[data-icon-navigation-next]").hide():$("[data-icon-navigation-next]").show(),0===window.currentIconPage?$("[data-icon-navigation-prev]").hide():$("[data-icon-navigation-prev]").show())}function m(){"small"!==window.baseBreakpoint&&"small"===Foundation.MediaQuery.current?(window.baseBreakpoint=Foundation.MediaQuery.current,u(),p()):window.baseBreakpoint!==Foundation.MediaQuery.current&&"xlarge"!==Foundation.MediaQuery.current&&"xxlarge"!==Foundation.MediaQuery.current&&(window.baseBreakpoint=Foundation.MediaQuery.current,u(),p())}r.subscribe(m)},170:function(e,a,n){"use strict";var r={year:"numeric",month:"long",day:"numeric"},t=new Date;"en"===document.documentElement.lang?$("[data-current-date]").append(t.toLocaleDateString("en-CA",r)):$("[data-current-date]").append(t.toLocaleDateString("fr-CA",r))},18:function(e,a,n){"use strict";a.decode=a.parse=n(60),a.encode=a.stringify=n(61)},30:function(e,a,n){"use strict";var r=n(0)("mortgage-spiff"),t=n(7);a.loadSpiff=function(){return jQuery.getJSON("/main/personal/mortgages/json/rates")},a.grabSpiffElements=function(){return Array.prototype.slice.call(document.querySelectorAll("[data-spiff-mortgages-apr]"))},a.updateDOM=function(e){var n=document.documentElement.lang||"en";a.grabSpiffElements().forEach(function(a){var r=a.getAttribute("data-spiff-mortgages-apr"),i="";r&&("variable-5-year-closed-special"===r?(i=e["variable-5-year-closed-special"],i=t(i,{language:n,decimals:2})):"variable-5-year-closed-special-apr"===r?(i=e["variable-5-year-closed-special-apr"],i=t(i,{language:n,decimals:2})):"smart-fixed-5-year-closed-apr"===r?(i=e["smart-fixed-5-year-closed-apr"],i=t(i,{language:n,decimals:2})):"smart-fixed-10-year-closed-apr"===r?(i=e["smart-fixed-10-year-closed-apr"],i=t(i,{language:n,decimals:2})):"fixed-4-year-closed"===r?(i=e["fixed-4-year-closed"],i=t(i,{language:n,decimals:2})):"fixed-4-year-closed-apr"===r?(i=e["fixed-4-year-closed-apr"],i=t(i,{language:n,decimals:2})):"fixed-6-year-closed"===r?(i=e["fixed-6-year-closed"],i=t(i,{language:n,decimals:2})):"fixed-7-year-closed"===r?(i=e["fixed-7-year-closed"],i=t(i,{language:n,decimals:2})):"fixed-6-year-closed-apr"===r?(i=e["fixed-6-year-closed-apr"],i=t(i,{language:n,decimals:2})):"fixed-7-year-closed-apr"===r?(i=e["fixed-7-year-closed-apr"],i=t(i,{language:n,decimals:2})):"five-year-smart-fixed-closed-special"===r?(i=e["five-year-smart-fixed-closed-special"],i=t(i,{language:n,decimals:2})):"five-year-smart-fixed-closed-special-apr"===r?(i=e["five-year-smart-fixed-closed-special-apr"],i=t(i,{language:n,decimals:2})):"fixed-5-year-closed-special"===r?(i=e["fixed-5-year-closed-special"],i=t(i,{language:n,decimals:2})):"fixed-5-year-closed-special-apr"===r?(i=e["fixed-5-year-closed-special-apr"],i=t(i,{language:n,decimals:2})):"fixed-3-year-closed-special"===r?(i=e["fixed-3-year-closed-special"],i=t(i,{language:n,decimals:2})):"fixed-3-year-closed-special-apr"===r&&(i=e["fixed-3-year-closed-special-apr"],i=t(i,{language:n,decimals:2})),i="<span class='spifValue'>"+r+"</span>"+i,a.innerHTML="<span class='spifJSON'>"+i+"</span>")})},a.failed=function(){r.error("Could not grab the spiff data")},a.initialize=function(){0!==a.grabSpiffElements().length&&a.loadSpiff().done(function(e){a.updateDOM(e);var n=[];$(document).keydown(function(e){n.push(e.keyCode),n.toString().indexOf("38,38,40,40,37,39,37,39,66,65")>=0&&$("body").addClass("konami")})}).fail(a.failed)}},56:function(e,a,n){"use strict";n(2);var r=n(0)("banner-weighted"),t=n(6)(),i=n(57);if(window.weightedBannerMethods=window.weightedBannerMethods||i,window.bannerArray){var o=i.getRandomBannerFromArray(window.bannerArray);o.bannerSourceCode=i.getBannerSourceCode(o),t.subscribe(function(e){i.setWeightedBackground(e)});$("body").on(["weightedBannerRenderDefault.bmo.lme","weightedBannerRenderIncomplete.bmo.lme","noRenderRegions.bmo.lme"].join(" "),function(e,a){r.log("rendering default weighted banner"),r.log({event:e,data:a}),i.smoothImageLoader(o)})}},57:function(e,a,n){"use strict";for(var r=n(58),t=n(18),i="banner-weighted",o={loader:".loading-animation",button:"."+i+"__inner-copy a.button"},c=["anchor","background","banner","fadeleft","faderight","inner","inner-copy","inner-copy-body","inner-copy-title"],d=0;d<c.length;d++)o[c[d]]="."+i+"__"+c[d];var s={getParameterByName:function(e,a){return a=void 0===a?window.location.search.substr(1):a,t.parse(a)[e]||!1},getRandomBannerFromArray:function(e){var a=[];(e=void 0===e?[]:e).forEach(function(e,n){for(var r=0;r<Number(e.weight);r++)a.push(n)});var n=s.getParameterByName("showbanner"),r=n?Number(n)-1:a[Math.floor(Math.random()*a.length)];return{backgroundColor:e[r].backgroundColor,bannerImageLarge:e[r].bannerImageLarge,bannerImageSmall:e[r].bannerImageSmall,bannerTitle:e[r].bannerTitle,bannerCopy:e[r].bannerCopy,bannerCtaCopy:e[r].bannerCtaCopy,bannerCtaUrl:e[r].bannerCtaUrl,bannerCtaMetaAna:e[r].bannerCtaMetaAna||e[r].bannerCtaCopy||"",bannerCtaTarget:e[r].bannerCtaTarget}},getBannerLinkDataAttributes:function(e){if(!e.linkDataAttributes)return"";for(var a=[],n=Object.keys(e.linkDataAttributes),r=0;r<n.length;r++)a.push("data-"+n[r]+'="'+e.linkDataAttributes[n[r]]+'"');return a.join(" ")},hexToRGBA:function(e,a){var n=e.replace("#","");return 3===n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),"rgba("+parseInt(n.slice(0,2),16)+", "+parseInt(n.slice(2,4),16)+", "+parseInt(n.slice(4,6),16)+", "+a+")"},paintGradients:function(e){var a=s.hexToRGBA(e,1),n=s.hexToRGBA(e,0);$(o.fadeleft).css("background-image","linear-gradient(to right, "+a+", "+n+")"),$(o.faderight).css("background-image","linear-gradient(to right, "+a+", "+n+")")},setCopyColor:function(e){var a=function(e){7===e.length&&(e=e.substring(1));var a=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return Math.sqrt(a*a*.241+n*n*.691+r*r*.068)}(e)<130?"#FFFFFF":"#001928";$(o.inner).css("color",a)},setWeightedBackground:function(e){var a=$(o.banner);a.css("background-color",""+a.attr("data-bgcolor"));var n=$(o.background),r="url('"+n.attr("data-mobile")+"')",t="url('"+n.attr("data-desktop")+"')";!Foundation||"small"!==Foundation.MediaQuery.current&&"medium"!==Foundation.MediaQuery.current?n.css("background-image",t):n.css("background-image",r)},getBannerSourceCode:function(e){var a="",n=e.bannerCtaMetaAna?e.bannerCtaMetaAna:e.bannerCtaCopy+" "+e.bannerTitle;return e.bannerCtaMetaAna=r(n),a+='<div class="'+i+"__banner"+(e.bannerClasses?" "+e.bannerClasses:"")+'" data-bgcolor="'+e.backgroundColor+'">',a+='<div class="'+i+'__background" data-mobile="'+e.bannerImageSmall+'" data-desktop="'+e.bannerImageLarge+'"',a+=' id="persHeroBanner" data-ana="'+e.bannerCtaMetaAna+' background">',a+='<div class="'+i+'__fadeleft"></div>',a+='<div class="'+i+'__faderight"></div>',a+='<div class="'+i+'__inner">',a+='<div class="'+i+'__inner-copy">',a+='<div class="'+i+'__inner-copy-title" id="persHeroBannerTitle">'+(e.bannerTitle?e.bannerTitle:"")+"</div>",""!==e.bannerCopy&&(a+='<div class="'+i+'__inner-copy-body" id="persHeroBannerCopy">'+(e.bannerCopy?e.bannerCopy:"")+"</div>"),a+="<a",a+=' href="'+e.bannerCtaUrl+'"',a+=' target="'+e.bannerCtaTarget+'"',a+=' data-ana="'+e.bannerCtaMetaAna+'"',a+=' class="button tv-button"',a+=" "+s.getBannerLinkDataAttributes(e),a+=' id="persHeroBannerCta">',a+=e.bannerCtaCopy,a+="</a>",a+="</div></div></div></div>"},fakeClick:function(e,a){if(a.click)a.click();else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(n)}},setBanner:function(e,a,n){a=void 0===a?$(o.anchor):a,$(function(){var r=$(o.anchor),t=r.data("render-count")||0;t+=1,r.data("render-count",t),t>1&&r.addClass(i+"--no-animation"),a.find(o.loader).fadeOut("fast",function(){e.bannerSourceCode||(e.bannerSourceCode=s.getBannerSourceCode(e)),a.find(o.banner).remove(),a.prepend(e.bannerSourceCode),s.paintGradients(e.backgroundColor),s.setCopyColor(e.backgroundColor),s.setWeightedBackground(e),a.find(o.background).off("click").on("click",function(e){if(!$(e.target).is("a, a *"))return e.preventDefault(),e.stopImmediatePropagation(),s.fakeClick(e,a.find(o.button)[0]),!1}),void 0!==n&&"function"==typeof n&&n(e,a)})})},smoothImageLoader:function(e,a){var n=new Image;n.onload=function(){s.setBanner(e,void 0,a)},!Foundation||"small"!==Foundation.MediaQuery.current&&"medium"!==Foundation.MediaQuery.current?n.src=e.bannerImageLarge:n.src=e.bannerImageSmall}};e.exports=s},58:function(e,a,n){"use strict";var r=n(59);e.exports=function(e){var a;return"string"!=typeof e?"":(e=(e=(e=e.trim()).replace(/&nbsp;/g," ")).replace(/\s+/g," "),/^<(?:picture|img)/.test(e)?(a=e.match(/<img.+?alt=(["'])(.*?)\1/))&&""!==a[2]?(a[2]+" Image").toLowerCase():"":(e=(e=(e=(e=(e=e.replace(/<!-- .*? -->/g," ")).replace(/<\/\w+?>/g," ")).replace(/<\w+?.+?>/g," ")).replace(/<\w*?>/g," ")).replace(/[\s\-_]+/g," "),(e=(e=(e=(e=(e=(e=r(e)).replace(/[^a-z0-9:®\s]+/gi,"")).trim()).replace(/\s+/g," ")).replace(/ ®/g,"®")).slice(0,100)).toLowerCase()))}},59:function(e,a,n){"use strict";var r={"â":"a","à":"a","ä":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","î":"i","ï":"i","ô":"o","ù":"u","û":"u","ü":"u","œ":"oe"};function t(e){return r[e]||e}e.exports=function(e){return"string"!=typeof e?"":(e=(e=(e+="").split("")).map(t)).join("")}},60:function(e,a,n){"use strict";function r(e,a){return Object.prototype.hasOwnProperty.call(e,a)}e.exports=function(e,a,n,i){a=a||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var c=/\+/g;e=e.split(a);var d=1e3;i&&"number"==typeof i.maxKeys&&(d=i.maxKeys);var s=e.length;d>0&&s>d&&(s=d);for(var l=0;l<s;++l){var u,g,f,p,m=e[l].replace(c,"%20"),v=m.indexOf(n);v>=0?(u=m.substr(0,v),g=m.substr(v+1)):(u=m,g=""),f=decodeURIComponent(u),p=decodeURIComponent(g),r(o,f)?t(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},61:function(e,a,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,n,c){return a=a||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),function(o){var c=encodeURIComponent(r(o))+n;return t(e[o])?i(e[o],function(e){return c+encodeURIComponent(r(e))}).join(a):c+encodeURIComponent(r(e[o]))}).join(a):c?encodeURIComponent(r(c))+n+encodeURIComponent(r(e)):""};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,a){if(e.map)return e.map(a);for(var n=[],r=0;r<e.length;r++)n.push(a(e[r],r));return n}var o=Object.keys||function(e){var a=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.push(n);return a}}},[168]);